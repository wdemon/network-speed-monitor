<img width="589" height="718" alt="image" src="https://github.com/user-attachments/assets/297fa802-32ce-4d74-b114-79b1e7202e23" />

Network Speed Monitor
Полноценный, автономный инструмент для мониторинга интернет-соединения с визуализацией, экспортом отчётов и анализом стабильности.
Подходит для домашнего, корпоративного и серверного использования. Разворачивается локально, не требует сторонних API или баз данных.

Что умеет
Периодически замеряет скорость интернета: загрузка, отдача, пинг
Показывает данные через веб-интерфейс с графиками и аналитикой
Сохраняет все результаты в файлы по дням в формате JSON
Анализирует нестабильность соединения и предупреждает о проблемах
Поддерживает ручной запуск теста из браузера
Экспортирует PDF-отчёты с текущей и статистической информацией
Работает с speedtest-cli (Python) и при сбоях — с speedtest от Ookla (CLI)

Подготовка среды (обязательно)
Работа ведётся в отдельной виртуальной среде Python — это исключает конфликты зависимостей и сохраняет чистоту системы.

1. Установите Python (если не установлен)
Windows: https://www.python.org/downloads/windows/

Linux: используйте пакетный менеджер (например, sudo apt install python3 python3-venv)

Убедитесь, что установлен Python 3.7 или выше и pip работает.

2. Клонируйте проект

git clone https://github.com/yourusername/network-speed-monitor.git
cd network-speed-monitor

3. Создайте виртуальное окружение

python -m venv venv
4. Активируйте окружение
Linux/macOS:
source venv/bin/activate

Окружение считается активным, если в начале строки появляется (venv).
5. Установите зависимости
pip install -r requirements.txt

6. Установите CLI от Ookla (рекомендуется)
Если API speedtest-cli будет недоступен (например, заблокирован Cloudflare), проект автоматически переключится на официальную CLI от Ookla.

Скачать и установить:
https://www.speedtest.net/apps/cli

Проверьте, что она установлена корректно:
speedtest --version

Запуск компонентов
1. Автоматический сбор данных
Этот скрипт будет запускать тесты каждые N секунд (по умолчанию — раз в час):

python speed_monitor.py
Данные будут сохраняться в папку speed_data/ по датам (например, 2025-08-08.json).

2. Веб-интерфейс
Графики, отчёты, анализ — всё доступно в браузере:

python web_dashboard.py
После запуска, откройте браузер и перейдите по адресу:
http://localhost:8080

Примечание
Вы можете запускать оба процесса независимо, в двух терминалах.
web_dashboard.py не зависит от speed_monitor.py, но сам по себе тоже собирает данные по таймеру.

Настройки
Файл settings.json создаётся автоматически. Все параметры также доступны для редактирования в интерфейсе.

Поддерживаются:
Интервал измерений (от 5 минут до 24 часов)
Порог скорости загрузки (для диагностики)
Порог пинга
Язык PDF-отчёта: русский или английский
Количество последних тестов в таблице
Автоматическое обновление графиков

Структура хранения
Все замеры сохраняются в папку speed_data
Каждый день — отдельный файл в формате YYYY-MM-DD.json
Старые данные автоматически удаляются (по умолчанию — старше 30 дней)
Архитектура

speed_monitor.py
Фоновый планировщик. Периодически запускает тест, сохраняет результат, чистит старые файлы.

utils.py
Вся бизнес-логика: тесты, парсинг, сохранение, загрузка, удаление.
Поддерживает fallback с Python API на CLI Ookla.

web_dashboard.py
Flask-приложение с Socket.IO. Запускает веб-интерфейс, обрабатывает API-запросы, отправляет push-обновления через WebSocket.

home.html
Фронтенд: графики, таблицы, экспорт, визуальный анализ.
Работает на Chart.js, Tailwind, jsPDF, html2canvas. Поддержка светлой и тёмной темы.

Часто задаваемые вопросы
Q: Обязательно ли использовать Ookla CLI?
A: Не обязательно. Но если Cloudflare блокирует speedtest-cli, это будет единственный рабочий вариант.

Q: Хранится ли где-то база данных?
A: Нет. Вся информация пишется в локальные JSON-файлы. Установка SQL-сервера не требуется.

Q: Можно ли задеплоить на VPS?
A: Да. Flask + WebSocket работают на любом сервере, где есть Python и доступ к сети.

Лицензия
Проект распространяется по лицензии MIT.
Вы можете свободно использовать, модифицировать и распространять его при условии сохранения оригинального уведомления об авторских правах.
