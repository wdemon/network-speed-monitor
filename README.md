<img width="578" height="724" alt="image" src="https://github.com/user-attachments/assets/b91b60db-0256-400d-bfce-7d6bc0af94e4" />


# Network Speed Monitor 



Полноценный, автономный инструмент для мониторинга интернет-соединения с визуализацией, экспортом отчётов и анализом стабильности.  
Подходит для домашнего, корпоративного и серверного использования. Разворачивается локально, не требует сторонних API или баз данных.

---

## Возможности

- Регулярные измерения скорости: загрузка, отдача, пинг  
- Сохранение истории по дням в формате JSON  
- Визуализация через графики и таблицы (веб-интерфейс)  
- Ручной запуск тестов и автообновление статистики  
- Выгрузка PDF-отчётов  
- Настройки через UI  
- Fallback на CLI Ookla speedtest при недоступности Python API  

---

## Подготовка среды (обязательно)

Работа ведётся в отдельной виртуальной среде Python — это исключает конфликты зависимостей и сохраняет чистоту системы.

### 1. Установите Python

- Windows: https://www.python.org/downloads/windows/  
- Linux/macOS: используйте пакетный менеджер (например, `sudo apt install python3 python3-venv`)

Убедитесь, что установлен Python 3.7 или выше.

### 2. Клонируйте проект

```
git clone https://github.com/yourusername/network-speed-monitor.git
cd network-speed-monitor
```

### 3. Создайте виртуальное окружение

```
python -m venv venv
```

### 4. Активируйте окружение

**Linux/macOS:**
```
source venv/bin/activate
```

**Windows:**
```
venv\Scripts\activate
```

### 5. Установите зависимости

```
pip install -r requirements.txt
```

### 6. Установите CLI от Ookla (по желанию)

Скачайте: https://www.speedtest.net/apps/cli  
Проверьте:
```
speedtest --version
```

---

## Запуск

### Автоматический сбор данных (фоновый процесс)

```
python speed_monitor.py
```

Результаты сохраняются в директорию `speed_data/` по датам.

### Веб-интерфейс

```
python web_dashboard.py
```

Доступен по адресу: http://localhost:8080

> Примечание: `web_dashboard.py` сам по себе также выполняет измерения по расписанию.

---

## Настройки

Файл `settings.json` создаётся автоматически при первом запуске.  
Все параметры доступны через веб-интерфейс.

Поддерживаются:

- Интервал измерений (от 5 минут до 24 часов)  
- Порог скорости загрузки и пинга для анализа стабильности  
- Язык PDF-отчёта: русский или английский  
- Автоматическое обновление графиков  
- Количество последних тестов в таблице  

---

## Хранение данных

- Все замеры сохраняются в папку `speed_data/`  
- Каждый день — отдельный JSON-файл с именем `YYYY-MM-DD.json`  
- Старые данные удаляются автоматически (по умолчанию — старше 30 дней)  

---

## Структура проекта

**`speed_monitor.py`**  
Фоновый планировщик: запускает тест, сохраняет результат, чистит старое.

**`utils.py`**  
Логика тестов: запускает speedtest через Python API или CLI, сохраняет данные, удаляет устаревшие файлы.

**`web_dashboard.py`**  
Веб-сервер на Flask + Socket.IO. Обрабатывает API, управляет настройками, обновляет графики.

**`home.html`**  
Интерфейс: таблицы, графики, экспорт PDF, визуализация.  
Работает на Chart.js, Tailwind CSS, jsPDF.

---

## Часто задаваемые вопросы

**Обязательно ли использовать CLI Ookla?**  
Нет, но рекомендуется. При недоступности speedtest-cli (например, из-за Cloudflare), CLI — резервный путь.

**Нужна ли база данных?**  
Нет. Все данные хранятся в JSON-файлах по дням.

**Можно ли установить на сервер?**  
Да. Flask-приложение работает на любом сервере с Python и доступом в интернет.

---

## Лицензия

Проект распространяется под лицензией MIT.  
Свободно используйте, модифицируйте и распространяйте при сохранении авторских прав.
